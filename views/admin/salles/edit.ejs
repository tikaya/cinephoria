<!DOCTYPE html><html lang="fr"><head>
<meta charset="UTF-8" /><title>Éditer salle - Cinéphoria</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
</head><body class="bg-dark text-light">
<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h3"><i class="fa-solid fa-pen me-2 text-warning"></i> Éditer salle</h1>
    <a href="/admin/salles" class="btn btn-outline-light">← Retour</a>
  </div>

  <% if (errors && errors.length) { %>
    <div class="alert alert-warning"><ul class="mb-0"><% errors.forEach(e => { %><li><%= e.message %></li><% }) %></ul></div>
  <% } %>

  <!-- 1) Formulaire d’édition de la salle -->
<form method="post" action="/admin/salles/<%= salle.id_salle %>" class="p-3 rounded-3"
      style="background:rgba(12,18,38,.72); border:1px solid rgba(255,255,255,.08);" novalidate>
  <%- include('./_fields', { salle, errors: (errors || []), old: null }) %>
  <div class="mt-3 d-flex gap-2">
    <button class="btn btn-warning"><i class="fa-solid fa-floppy-disk"></i> Mettre à jour</button>
    <a href="/admin/salles/<%= salle.id_salle %>/edit" class="btn btn-outline-light">Annuler</a>
  </div>
</form>

<!-- 2) Formulaire indépendant pour générer les sièges -->
<%- include('./_seats_form', { salle }) %>

</div></body></html>
